The function counts X’s and O’s to know whose turn it is.

Then it checks for a winning move, blocking move, or takes the best available square by priority.

All moves are guaranteed to be legal (only empty squares).
